-- Tabela USUARIO
CREATE TABLE USUARIO (
    ID_USUARIO INT PRIMARY KEY AUTO_INCREMENT,
    USU_PERMISSAO INT,
    USU_NOME VARCHAR(100),
    USU_CPF VARCHAR(14),
    EMAIL VARCHAR(100),
    USU_SENHA VARCHAR(100)
);

-- Tabela FORNECEDOR
CREATE TABLE FORNECEDOR (
  ID_FORN INT PRIMARY KEY AUTO_INCREMENT,
  FORN_NOME VARCHAR(50) NOT NULL,
  FORN_TELEFONE VARCHAR(20),
  FORN_EMAIL VARCHAR(50),
  FORN_CNPJ VARCHAR(14) NOT NULL,
  FORN_ENDERECO VARCHAR(255),
  FORN_STATUS VARCHAR(255)
);

-- Tabela PRODUTO
CREATE TABLE PRODUTO (
  ID_PROD INT PRIMARY KEY AUTO_INCREMENT,
  PROD_NOME VARCHAR(255) NOT NULL,
  PROD_DESCRICAO VARCHAR(255) NOT NULL,
  PROD_PONTO_REP INT NOT NULL,
  FK_ID_FORN INT,
  VALOR_QUANT DOUBLE,
  PROD_STATUS VARCHAR(255) NOT NULL,
  CONSTRAINT FK_PRODUTO_FORNECEDOR FOREIGN KEY (FK_ID_FORN) REFERENCES FORNECEDOR(ID_FORN)
);

CREATE TABLE LOJA (
  LOJA INT PRIMARY KEY AUTO_INCREMENT,
  LOJA_NOME VARCHAR(255) NOT NULL,
  LOJA_ENDERECO VARCHAR(255),
  LOJA_CONTATO VARCHAR(20)
);

CREATE TABLE MOVIMENTACAOLOJA (
    ID_MOV_LOJA INT AUTO_INCREMENT PRIMARY KEY,
    FK_ID_LOJA INT NOT NULL,
    FK_ID_PROD INT NOT NULL,
    MOV_TIPO INT NOT NULL,
    MOV_QTDE INT NOT NULL,
    MOV_VALOR DOUBLE NOT NULL,
    MOV_PONTO_REP INT NOT NULL,
    MOV_VALOR_MEDIO DOUBLE NOT NULL,
    CONSTRAINT FK_ID_LOJA FOREIGN KEY (FK_ID_LOJA) REFERENCES LOJA(LOJA),
    CONSTRAINT FK_ID_PROD FOREIGN KEY (FK_ID_PROD) REFERENCES PRODUTO(ID_PROD)
);


CREATE TABLE ESTOQUE (
    ESTOQUE INT AUTO_INCREMENT PRIMARY KEY,
    ESTOQUEIDPROD INT NOT NULL,
    ESTOQUETIPO INT NOT NULL,
    ESTOQUEQTD INT NOT NULL,
    ESTOQUEVALOR DOUBLE NOT NULL,
    ESTOQUEPONTREP INT NOT NULL,
    ESTOQUEVALORMEDIO DOUBLE NOT NULL,
    CONSTRAINT ESTOQUEIDPROD FOREIGN KEY (ESTOQUEIDPROD) REFERENCES PRODUTO(ID_PROD)
);





